<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>Hello Bulma!</title>
    
    <!-- Recursos externos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  </head>
  <body>
    <!-- TODO: Navegação -->
    <div id="nav-content"></div>

    <!-- Principal (mudanças de pagina ocorrem aqui) -->
    <div id="main-content"></div>

    <!-- TODO: Rodapé -->
    <div id="footer-content"></div>

    <!-- Script -->
    <script>

      // main content
      var mainContent;

      // carregando conteúdo para página
      $(document).ready(function() {
        // nav bar
        $('#nav-content').load('pages/templates/nav.html');

        // conteúdo pricipal 
        mainContent = $('#main-content');
        mainContent.load('pages/home.html');

        // rodapé
        $('#footer-content').load('pages/templates/footer.html');

        // configura mudanca de pag e inicia na desejada
        setNavegationCallback();
        changeMainContent(getCurrentLocation());
      });

      function setNavegationCallback() {
        $(window).on('hashchange', function() {
          changeMainContent(getCurrentLocation());
        });
      }
      
      function changeMainContent(contentName) {
          if (contentName.length === 0) return;

          mainContent.load('pages/' + contentName + '.html', function(response, status, xhr) {
            if (status == 'error')
              mainContent.load('pages/page_not_found.html');
          });
      }

      function getCurrentLocation() {
        return location.hash.replace('#', '');
      }
    </script>
  </body>
</html>